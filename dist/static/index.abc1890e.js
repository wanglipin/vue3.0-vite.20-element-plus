var e=Object.defineProperty,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,l=(o,t,d)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[t]=d,a=(e,a)=>{for(var i in a||(a={}))t.call(a,i)&&l(e,i,a[i]);if(o)for(var i of o(a))d.call(a,i)&&l(e,i,a[i]);return e};import{d as i,r as s,o as n,c as r,a7 as c,w as u,a as m,t as p,a0 as f,a1 as v,a8 as T,e as b,R as y,a9 as h,aa as I,U as g,V as k,a3 as E,ab as _,b as V,ac as w}from"./vendor.24be2225.js";var C=i({name:"Edited",props:{todoTitle:{type:String,defalut:""}},emits:["update: todoTitle"],setup:(e,{emit:o})=>({onIput:e=>{o("update: todoTitle",e)}})});const O=u()(((e,o,t,d,l,a)=>{const i=s("el-input");return n(),r(i,c({value:e.todoTitle},e.$attrs,{onInput:e.onIput}),null,16,["value","onInput"])}));C.render=O,C.__scopeId="data-v-699ef9b6";var S=i({name:"TodoItem",props:{todo:{type:Object,required:!0}},emits:["removeTodo"],components:{Edited:C},setup(e,{emit:o}){const t=m({beforeEditCode:"",editedTodo:{}});return a({doneEdit:e=>{t.editedTodo={}},editTodo:e=>{t.beforeEditCode=e.title,t.editedTodo=e},cancel:e=>{e.title=t.beforeEditCode,t.editedTodo={}},removeTodo:e=>{o("removeTodo",e)}},p(t))},directives:{"todo-focus":(e,{value:o})=>{if(o){e.querySelector("input").focus()}}}});const j=u();f("data-v-35eb3499");const x={class:"edit"};v();const A=j(((e,o)=>{const t=s("el-checkbox"),d=s("svg-icon"),l=s("Edited"),a=T("todo-focus");return n(),r("li",{class:{editing:e.todo==e.editedTodo}},[b("div",{class:"view",onDblclick:o[3]||(o[3]=o=>e.editTodo(e.todo))},[b(t,{modelValue:e.todo.completed,"onUpdate:modelValue":o[1]||(o[1]=o=>e.todo.completed=o)},{default:j((()=>[b("label",{class:{completed:e.todo.completed}},y(e.todo.title),3)])),_:1},8,["modelValue"]),b(d,{onClick:o[2]||(o[2]=o=>e.removeTodo(e.todo)),name:"iconfont-close",size:"16",style:{float:"right"}})],32),b("div",x,[h(b(l,{"todo-title":e.todo.title,"onUpdate:todo-title":o[4]||(o[4]=o=>e.todo.title=o),onKeyup:[o[5]||(o[5]=I((o=>e.doneEdit(e.todo)),["enter"])),o[7]||(o[7]=I((o=>e.cancel(e.todo)),["escape"]))],onBlur:o[6]||(o[6]=o=>e.doneEdit(e.todo))},null,8,["todo-title"]),[[a,e.todo==e.editedTodo]])])],2)}));S.render=A,S.__scopeId="data-v-35eb3499";var U=i({name:"FiltersItem",props:["filtersItem","modelValue"],emits:["update:modelValue"],setup:(e,{emit:o})=>({onChange:t=>{t.checked=!0,o("update:modelValue",t.title),e.filtersItem.forEach((e=>{e.title!=t.title&&(e.checked=!1)}))}})});const L=u();f("data-v-0b6785c1");const F={class:"bottom",style:{display:"flex","justify-content":"space-evenly"}};v();const K=L(((e,o,t,d,l,a)=>{const i=s("el-check-tag");return n(),r("div",F,[(n(!0),r(g,null,k(e.filtersItem,(o=>(n(),r(i,{key:o,onChange:t=>e.onChange(o),checked:o.checked},{default:L((()=>[E(y(o.title),1)])),_:2},1032,["onChange","checked"])))),128))])}));U.render=K,U.__scopeId="data-v-0b6785c1";const P={fetch(){let e=JSON.parse(localStorage.getItem("vue3_todos")||"[]");return console.log(e,"?????????"),e.forEach(((e,o)=>{e.id=o+1})),e},save(e){localStorage.setItem("vue3_todos",JSON.stringify(e))}};const R={All:e=>e,Active:e=>e.filter((e=>!e.completed)),Completd:e=>e.filter((e=>e.completed))};var q=i({name:"Todo",components:{Edited:C,TodoItem:S,Filter:U},setup(){const e=m({newTodo:""}),{todoList:o,addTodo:t,removeTodo:d}=function(e){const o=m(P.fetch());return _((()=>{P.save(o)})),{todoList:o,addTodo:()=>{const t={id:o.length+1,title:e.newTodo,completed:!1};o.push(t),e.newTodo=""},removeTodo:e=>{o.splice(o.indexOf(e),1)}}}(e),{filterState:l}=function(e){const o=m({filtersItem:[{title:"All",checked:!0},{title:"Active",checked:!1},{title:"Completd",checked:!1}],filterTodoList:V((()=>R[o.visibility](e))),visibility:"All"});return{filterState:o}}(o);return a(a({addTodo:t,removeTodo:d},p(e)),p(l))}});const J=u(),N=J(((e,o,t,d,l,a)=>{const i=s("Edited"),c=s("TodoItem"),u=s("Filter"),m=s("el-card");return n(),r(m,{class:"box-card"},{default:J((()=>[b(i,{modelValue:e.newTodo,"onUpdate:modelValue":o[1]||(o[1]=o=>e.newTodo=o),modelModifiers:{todoTitle:!0},onKeypress:I(e.addTodo,["enter"]),autofocus:"",autocomplete:"off",placeholder:"输入你想输入的东西,确认回车键"},null,8,["modelValue","onKeypress"]),b(w,{name:"todolist",tag:"ul"},{default:J((()=>[(n(!0),r(g,null,k(e.filterTodoList,(o=>(n(),r(c,{key:o.id,todo:o,onRemoveTodo:e.removeTodo},null,8,["todo","onRemoveTodo"])))),128))])),_:1}),b(u,{filtersItem:e.filtersItem,modelValue:e.visibility,"onUpdate:modelValue":o[2]||(o[2]=o=>e.visibility=o)},null,8,["filtersItem","modelValue"])])),_:1})}));q.render=N,q.__scopeId="data-v-0012d0ab";export default q;
